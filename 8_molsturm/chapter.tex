\chapter{molsturm: Flexible and modular quantum-chemistry package}
\label{ch:Molsturm}
\chapquote{[C has] the power of assembly language and the convenience of \ldots assembly language.}{Dennis Ritchie~(1941--2011)} \\
\chapquote{Keep it simple, make it general, and make it intelligible.}{Doug McIlroy~(1932--present)}

\todoil{Statistics: Lines of code}
\todoil{Maybe describe idea behind code structure}
Historically the \fortran library ARPACK~\cite{Lehoucq1998}

% points in need for modular
Pickup on idea of basis-type independent \SCF
Lazy matrix formalism helps
\contraction-based \SCF hard to achieve in non-flexible standard
Q-Chem programs

\lazyten is the linear algebra interface of \molsturm.
It not only implements the lazy matrix datastructures,
which define the common interface of \gint and \gscf,
but further contains code to make standard external
iterative or direct solver implementations available
from a lazy matrices-based setting.

Similarly the eigensolvers can be accessed from \gscf via a common interface,
which abstracts the precise algorithm and allows \lazyten to make an automatic
choice by looking at the precise structure of the Fock matrix at hand.

\todoil{Lazyten common interface for different numerical structure
depending on basis function type}
\todoil{Automatic choice by introspection or alternatively
	supply keywords to influence solver algortihms directly}

\input{need_for_modular.tex}
\input{related.tex}
\input{design.tex}
\input{examples.tex}
\input{state.tex}


% ----

lazyten layer
An additional advantage of such a layer would be that
modifications of the system matrix can be transparently expressed
to the iterative schemes.
For example adding extra terms to the Fock matrix
describing an electric field or a polarisable embedding
or other contributions does not really require
any change to the \SCF code at all.
A good layer of abstraction between the actual \SCF algorithm
and the implementation of the matrix-vector contractions
is therefore highly desirable to enable flexibility on both sides.

need flexibility in matrix expressions in real-world application
like \SCF (extra terms of varying complexity from external field,
polarisable embedding, fragment approaches, and so on)
non-linearity of Coulomb and Exchange
would be nice to transparently express this

% ---
