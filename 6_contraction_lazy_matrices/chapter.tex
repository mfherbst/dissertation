\chapter{Contraction-based algorithms and lazy matrices}
\chaptermark{Contraction-based algorithms \& lazy matrices}
\label{ch:LazyMatrices}
\chapquote{%
There is a race between the increasing complexity of the
systems we build and our ability to develop intellectual
tools for understanding their complexity.
If the race is won by our tools, then systems will eventually
become easier to use and more reliable.
If not, they will continue to become harder to use and less
reliable for all but a relatively small set of common tasks.
Given how hard thinking is, if those intellectual tools are
to succeed, they will have to substitute calculation
for thought.}{Leslie Lamport~(1941--present)}
%
%

\noindent
Summarised in one sentence the basic idea of \contraction-based algorithms
is to avoid storing large tensors in memory
and instead employ highly optimised
\contraction expressions of this tensor with other tensors for computations.
We already saw in the previous chapter that applying
such a strategy to the Fock matrix resulting from a \FE-based
or a \CS-based discretisation of the \HF problem
can lead to an improved formal computational scaling
making the \contraction-based approach rather promising in those cases.
\contraction-based algorithms are, however,
not limited to \SCF procedures or quantum-chemical calculations.

This chapter will give a general introduction into
the concept of \contraction-based algorithms,
contrasting them with traditional approaches,
where the matrices are stored in memory.
Closely connected to \contraction-based approaches is the concept of lazy matrices,
which is a direct generalisation to the traditional matrix concept
in the form of a domain-specific language for \contraction-based algorithms.
Most importantly this implies that algorithms programmed
with lazy matrices can automatically
be used with dense matrices or in a \contraction-based fashion without change to the code.
A preliminary \cpp implementation of lazy matrices
is available in the \lazyten library,
which focuses predominantly on user-friendliness and flexibility
in the computational back-end.
We will demonstrate by the means of examples.

\input{6_contraction_lazy_matrices/contraction.tex}
\input{6_contraction_lazy_matrices/lazy.tex}
